/**
 * Created by yar on 6/23/2016.
 */
(function (angular) {
    'use strict';

    var moduleName = 'App.business.partner';

    /**
     * contact detail data service
     */
    angular.module(moduleName).factory('businessPartnerDataService',
        ['businessPartnerHttpService', '$q', 'commonBusinessPartnerDataService', 'businessPartnerDetailDataService',
            function (businessPartnerHttpService, $q, commonBusinessPartnerDataService, businessPartnerDetailDataService) {

                var service = {};


                service.fillBusinessPartner = function (businessPartners) {
                    if (businessPartners.length) {
                        businessPartners.forEach(function (businessPartner) {
                            //if (businessPartner.SubsidiaryDescriptor) {
                            //    //get the phone
                            //    var telephoneDto1 = businessPartner.SubsidiaryDescriptor.TelephoneNumber1Dto;
                            //    if (telephoneDto1) {
                            //        businessPartner.Telephone1 = telephoneDto1.Telephone;
                            //    }
                            //
                            //    var telephoneDto2 = businessPartner.SubsidiaryDescriptor.TelephoneNumber2Dto;
                            //    if (telephoneDto2) {
                            //        businessPartner.Telephone2 = telephoneDto2.Telephone;
                            //    }
                            //
                            //    //get the mobile
                            //    var mobileDto = businessPartner.SubsidiaryDescriptor.TelephoneNumberMobileDto;
                            //    if (mobileDto) {
                            //        businessPartner.Mobile = mobileDto.Telephone;
                            //    }
                            //
                            //    //get the longitude and latitude
                            //    var addressDto = businessPartner.SubsidiaryDescriptor.AddressDto;
                            //    if (addressDto) {
                            //        businessPartner.Latitude = addressDto.Latitude;
                            //        businessPartner.Longitude = addressDto.Longitude;
                            //        businessPartner.Address = addressDto.Address;
                            //    }
                            //
                            //    //get the fax
                            //    var telefaxDto = businessPartner.SubsidiaryDescriptor.TelephoneNumberTelefaxDto;
                            //    if (telefaxDto) {
                            //        businessPartner.Fax = telefaxDto.Telephone;
                            //    }
                            //
                            //}

                            //get the company info
                            var companyId = businessPartner.CompanyFk;
                            var companies = commonBusinessPartnerDataService.getCompanies();
                            if (companies.length) {
                                for (var i = 0; i < companies.length; i++) {
                                    if (companyId === companies[i].Id) {
                                        businessPartner.company = companies[i];
                                        businessPartner.companyCode = companies[i].Code;
                                        businessPartner.companyName = companies[i].CompanyName;
                                    }
                                }
                            }

                            //get the remark
                            //businessPartner.Remark = businessPartner.Remark
                            businessPartner.itemClass = '';
                            //get the blob
                            (function (businessPartner) {


                                //businessPartner.imageData = 'data:image/png;base64,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';
                                //businessPartner.imageData = 'data:image/png;base64,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';

                                businessPartner.imageData = 'data:image/png;base64,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';
                                businessPartnerDetailDataService.getBlobByBusinessPartnerId(businessPartner.Id).then(function (data) {
                                    if (data.length) {
                                        businessPartner.imageData = 'data:image/png;base64,' + data[0].Blob.Content;
                                    } else {
                                        businessPartner.itemClass = 'removeItemPadding';
                                    }
                                });
                            })(businessPartner);
                        });
                    }
                };

                service.getBusinessPartnerList = function (options) {
                    var defer = $q.defer();
                    businessPartnerHttpService.getBusinessPartnerList(options).then(
                        function (response) {
                            try {
                                commonBusinessPartnerDataService.setCompanies(response.data.Company);
                                commonBusinessPartnerDataService.setTotalRecords(response.data.FilterResult.RecordsFound);
                                service.fillBusinessPartner(response.data.Main);
                                defer.resolve(response.data);
                            } catch (error) {
                                defer.reject(false);
                            }
                        }, function (error) {
                            defer.reject(error);
                        });
                    return defer.promise;
                };
                return service;

            }]);
})(angular);